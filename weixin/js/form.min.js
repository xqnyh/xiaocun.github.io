var global=this;function clear(){var b=document.getElementById("form_order");if(b){b.parentElement.removeChild(b);global.goods=null;global.order=null}}function begin(){loadAudio();beginPageSlides();setGuideWidth()}window.onload=function(){loadAudio();beginPageSlides();setGuideWidth()};function changeClassName(f){for(var e=0;e<f.parentElement.childNodes.length;e++){var d=f.parentElement.childNodes[e];if(d.tagName&&d.tagName.match(/input/ig)){f.parentElement.childNodes[e].className="form_grade_btn"}}f.className="form_grade_btn checked"}function closeAllAudio(f){var d=document.getElementsByTagName("audio");for(var e=0;e<d.length;e++){if(d[e].parentElement.parentElement.id==f.parentElement.parentElement.id){continue}d[e].pause();d[e].parentElement.getElementsByClassName("audio_panel")[0].className="audio_panel";d[e].parentElement.getElementsByClassName("audio_min")[0].className="audio_min";if(global["ti_"+d[e].parentElement.parentElement.id]){clearInterval(global["ti_"+d[e].parentElement.parentElement.id])}}}function getAudioType(c){var d;if(/\.mp3\s*$/i.test(c)){d="audio/mpeg"}if(/\.ogg\s*$/i.test(c)){d="audio/ogg"}if(/\.wav\s*$/i.test(c)){d="audio/x-wav"}if(/\.(mid|rmi)\s*$/i.test(c)){d="audio/mid"}return d}function formatTime(f){var e=Math.floor(f/60).toString();var d=Math.floor(f%60).toString();if(e.length==1){e="0"+e}if(d.length==1){d="0"+d}return e+":"+d}function loadAudio(){var audioArr=document.getElementsByTagName("audio");for(var i=0;i<audioArr.length;i++){var str=audioArr[i].getAttribute("srcs");var src_obj=eval(audioArr[i].getAttribute("srcs"));if(src_obj&&src_obj.constructor==Array){for(var j=0;j<src_obj.length;j++){audioArr[i].innerHTML+='<source src="'+src_obj[j]+'" type="'+getAudioType(src_obj[j])+'">'}audioArr[i].load()}else{}}}function getPageAudio(b){while(b){if(/page_audio/.test(b.className)){return b}else{b=b.parentElement}}}function audioMouseDown(f){if(!f){f=(window||global).event;if(!f){return}}var d=getPageAudio(f.target);var e=d.getElementsByTagName("audio")[0];oldY=f.screenY;oldV=e.volume;oldX=f.screenX;oldT=e.currentTime;f_move=0;f_down=1}function audioMouseMove(i){if(!i){i=(window||global).event;if(!i){return}}var j=getPageAudio(i.target);var k=j.getElementsByTagName("audio")[0];var l=j.getElementsByClassName("audio_status")[0];i.preventDefault();if(!global.f_down){f_down=0}if(f_down){if(Math.abs(i.screenX-oldX)>10){if(typeof(f_run)=="undefined"||!f_run){f_run=1;f_move=1;var e=k.currentTime;e=oldT+(i.screenX-oldX)/2;k.currentTime=(e>k.duration?k.duration:(e<0?0:e));j.getElementsByClassName("audio_thumb")[0].style.width=k.currentTime/k.duration*100+"%";l.style.opacity=1;l.innerHTML=(i.screenX<oldX?"快退:":"快进:")+"5秒"}}else{if(Math.abs(i.screenY-oldY)>10){f_move=1;var h=k.volume;h=oldV-(i.screenY-oldY)/100;k.volume=(h>1?1:(h<0?0:h));l.style.opacity=1;l.innerHTML="音量："+Math.floor(k.volume*10)}}}}function audioMouseUp(f){if(!f){f=(window||global).event;if(!f){return}}var d=getPageAudio(f.target);if(f_move){if(global["si_"+d.id]){clearInterval(global["si_"+d.id])}var e=d.getElementsByClassName("audio_status")[0];e.style.opacity="1";global["si_"+d.id]=setInterval(function(){var a=parseFloat(e.style.opacity);e.style.opacity=a-0.05;if(a<=0){clearInterval(global["si_"+d.id])}},50)}f_down=0;f_run=0}function audioClick(f){if(global.f_move){return}if(!f){f=(window||global).event;if(!f){return}}var d=getPageAudio(f.target);var e=d.getElementsByTagName("audio")[0];if(e.paused){e.play()}else{e.pause()}}function audioTouchStart(f){if(!f){f=(window||global).event;if(!f){return}}var d=getPageAudio(f.target);var e=d.getElementsByTagName("audio")[0];oldY=f.targetTouches[0].screenY;oldV=e.volume;oldX=f.targetTouches[0].screenX;oldT=e.currentTime;f_move=0;f_down=1}function audioTouchMove(h){if(!h){h=(window||global).event;if(!h){return}}var i=getPageAudio(h.target);var j=i.getElementsByTagName("audio")[0];var e=i.getElementsByClassName("audio_status")[0];if(!global.f_down){f_down=0}if(f_down){if(Math.abs(h.targetTouches[0].screenX-oldX)>10){h.preventDefault();if(!global.f_run){f_run=1;f_move=1;var g=j.currentTime;g=oldT+(h.targetTouches[0].screenX-oldX)/2;j.currentTime=(g>j.duration?j.duration:(g<0?0:g));i.getElementsByClassName("audio_thumb")[0].style.width=j.currentTime/j.duration*100+"%";e.style.opacity=1;e.innerHTML=(h.targetTouches[0].screenX<oldX?"快退:":"快进:")+"5秒"}}}}function audioTouchEnd(f){if(!f){f=(window||global).event;if(!f){return}}var d=getPageAudio(f.target);if(f_move){if(global["si_"+d.id]){clearInterval(global["si_"+d.id])}var e=d.getElementsByClassName("audio_status")[0];e.style.opacity="1";global["si_"+d.id]=setInterval(function(){var a=parseFloat(e.style.opacity);e.style.opacity=a-0.05;if(a<=0){clearInterval(global["si_"+d.id])}},50)}f_down=0;f_run=0}function audioPlay(e){if(!e){e=(window||global).event;if(!e){return}}var obj=e.target;closeAllAudio(obj);if(/^\s*$/.test(obj.innerHTML)){var src_obj=eval(obj.getAttribute("srcs"));if(src_obj.constructor==Array){for(var i=0;i<src_obj.length;i++){obj.innerHTML+='<source src="'+src_obj[i]+'" type="'+getAudioType(src_obj[i])+'">'}}else{alert("音频源错误");return}}var div=obj.parentElement.parentElement;if(!div){return}global["ti_"+div.id]=setInterval(function(){div.getElementsByClassName("audio_thumb")[0].style.width=Math.floor(obj.currentTime/obj.duration*100)+"%";div.getElementsByClassName("audio_total")[0].innerHTML=formatTime(obj.duration);div.getElementsByClassName("audio_current")[0].innerHTML=formatTime(obj.currentTime)},200);obj.parentElement.className+=" playing"}function audioPause(c){if(!c){c=(window||global).event;if(!c){return}}var d=c.target;if(!d.parentElement){return}clearInterval(global["ti_"+d.parentElement.parentElement.id]);d.parentElement.className=d.parentElement.className.replace(/\bplaying\b/g,"").replace(/^\s*|\s*$/g,"");if(d.currentTime>=d.duration){d.parentElement.getElementsByClassName("audio_thumb")[0].style.width="100%";d.parentElement.getElementsByClassName("audio_current")[0].innerHTML=formatTime(d.duration)}}function audioLoadStart(c){if(!c){c=(window||global).event;if(!c){return}}var d=c.target;d.parentElement.getElementsByClassName("audio_status")[0].style.opacity=1;d.parentElement.getElementsByClassName("audio_status")[0].innerHTML="加载音频..."}function audioCanPlay(f){if(!f){f=(window||global).event;if(!f){return}}var d=getPageAudio(f.target);var e=d.getElementsByClassName("audio_status")[0];global["si_"+d.id]=setInterval(function(){var a=parseFloat(e.style.opacity);if(a<=0.11){e.style.opacity=0;clearInterval(global["si_"+d.id])}e.style.opacity=(a<0.1?0:a-0.1)},100)}function gearScroll(c){if(!c){c=(window||global).event;if(!c){return}}c.preventDefault();var d=c.target;while(true){if(d.className!=="gear"){d=d.parentElement}else{break}}if(!global["out_"+d.id]&&!global["cnt_"+d.id]){global["out_"+d.id]=setTimeout(function(){global["out_"+d.id]=null;global["cnt_"+d.id]=0},500)}if(!global["cnt_"+d.id]){global["cnt_"+d.id]=0}global["cnt_"+d.id]++;if(c.wheelDelta<0){global["spd_"+d.id]=(global["cnt_"+d.id]<=2?-0.08:(global["cnt_"+d.id]<=6?-0.2:-global["cnt_"+d.id]/15))}else{global["spd_"+d.id]=(global["cnt_"+d.id]<=2?0.08:(global["cnt_"+d.id]<=6?0.2:global["cnt_"+d.id]/15))}if(!global["pos_"+d.id]){global["pos_"+d.id]=0}rollGear(d)}function gearTouchStart(c){if(!c){c=(window||global).event;if(!c){return}}c.preventDefault();var d=c.target;while(true){if(d.className!=="gear"){d=d.parentElement}else{break}}clearInterval(global["int_"+d.id]);global["old_"+d.id]=c.targetTouches[0].screenY;global["o_t_"+d.id]=(new Date()).getTime();if(d.style.top){if(/em/.test(d.style.top)){global["o_d_"+d.id]=parseFloat(d.style.top.replace(/em/g,""))}else{if(/px/.test(d.style.top)){global["o_d_"+d.id]=parseFloat(d.style.top.replace(/px/g,""))*18/d.clientHeight}else{global["o_d_"+d.id]=0}}}else{global["o_d_"+d.id]=0}}function gearTouchMove(d){if(!d){d=(window||global).event;if(!d){return}}d.preventDefault();var e=d.target;while(true){if(e.className!=="gear"){e=e.parentElement}else{break}}global["new_"+e.id]=d.targetTouches[0].screenY;global["n_t_"+e.id]=(new Date()).getTime();var f=(global["new_"+e.id]-global["old_"+e.id])*18/e.clientHeight;global["pos_"+e.id]=global["o_d_"+e.id]+f;e.style.top=global["pos_"+e.id]+"em"}function gearTouchEnd(f){if(!f){f=(window||global).event;if(!f){return}}f.preventDefault();var d=f.target;while(true){if(d.className!=="gear"){d=d.parentElement}else{break}}var e=(global["new_"+d.id]-global["old_"+d.id])/(global["n_t_"+d.id]-global["o_t_"+d.id]);if(Math.abs(e)<=0.2){global["spd_"+d.id]=(e<0?-0.08:0.08)}else{if(Math.abs(e)<=0.5){global["spd_"+d.id]=(e<0?-0.16:0.16)}else{global["spd_"+d.id]=e/2}}if(!global["pos_"+d.id]){global["pos_"+d.id]=0}rollGear(d)}function rollGear(c){var d=0;clearInterval(global["int_"+c.id]);global["int_"+c.id]=setInterval(function(){var a=global["pos_"+c.id];var f=global["spd_"+c.id]*Math.exp(-0.03*d);a+=f;if(Math.abs(f)>0.05){if(a<-4){a+=8;setGear(c,4)}else{if(a>4){a-=8;setGear(c,-4)}}}else{f=0.05;var b=Math.round(a/2)*2;if(Math.abs(a-b)<0.02){setGear(c,-b/2);c.style.top="0em";global["pos_"+c.id]=0;clearInterval(global["int_"+c.id]);return}else{if(a>b){a-=f}else{a+=f}}}c.style.top=a+"em";global["pos_"+c.id]=a;d++},16)}function setGear(l,f){var j=parseFloat(l.getAttribute("val"))+f;switch(l.id){case"date_yy":j=(j+200)%200;break;case"date_mm":j=(j+12)%12;break;case"date_dd":var i=parseInt(document.getElementById("date_yy").getAttribute("val"));var k=document.getElementById("date_mm").getAttribute("val");var h=calcDays(i,k);j=(j+h)%h;break;case"time_hh":j=(j+24)%24;break;case"time_mm":j=(j+60)%60;break;default:}l.setAttribute("val",j);if(/date/.test(l.id)){setDateGear()}else{setTimeGear()}}function editDate(d){if(!d){d=(window||global).event;if(!d){return}}var e=d.target;var f=document.getElementById("gearDate");if(!f){f=document.createElement("div");f.id="gearDate";f.innerHTML='<div id="date_ctrl">					<div id="date_head">今天：2013/11/22</div>					<div id="date_roll">						<div>							<div class="gear" id="date_yy" 								ontouchstart="gearTouchStart(event)"								ontouchmove="gearTouchMove(event)"								ontouchend="gearTouchEnd(event)"								onmousewheel="gearScroll(event)"></div>							<div class="grid" onmousewheel="gearScroll(event)"><div>年</div></div>						</div>						<div>							<div class="gear" id="date_mm"								ontouchstart="gearTouchStart(event)"								ontouchmove="gearTouchMove(event)"								ontouchend="gearTouchEnd(event)"								onmousewheel="gearScroll(event)"></div>							<div class="grid" onmousewheel="gearScroll(event)"><div>月</div></div>						</div>						<div>							<div class="gear" id="date_dd" 								ontouchstart="gearTouchStart(event)"								ontouchmove="gearTouchMove(event)"								ontouchend="gearTouchEnd(event)"								onmousewheel="gearScroll(event)"></div>							<div class="grid" onmousewheel="gearScroll(event)"><div>日</div></div>						</div>					</div>					<div id="date_btn" onclick="finishDateEdit(event);">确认</div>				</div>'}if(!f.style.display||f.style.display=="none"){e.parentElement.appendChild(f);dateCtrlInit(e);f.style.display="block";window.scrollTo(0,f.parentElement.offsetTop-20)}else{f.style.display="none"}}function dateCtrlInit(f){var e=new Date();var d={yy:e.getYear(),mm:e.getMonth(),dd:e.getDate()-1};document.getElementById("date_head").innerHTML="今天："+(d.yy+1900)+"-"+(d.mm+1)+"-"+(d.dd+1);if(/^\d{4}-\d{1,2}-\d{1,2}$/.test(f.value)){rs=f.value.match(/(^|-)\d{1,4}/g);d.yy=rs[0]-1900;d.mm=rs[1].replace(/-/g,"")-1;d.dd=rs[2].replace(/-/g,"")-1}document.getElementById("date_yy").setAttribute("val",d.yy);document.getElementById("date_mm").setAttribute("val",d.mm);document.getElementById("date_dd").setAttribute("val",d.dd);setDateGear()}function setDateGear(){var k=document.getElementById("date_yy");if(k&&k.getAttribute("val")){var m="";var n=parseInt(k.getAttribute("val"));for(var p=-4;p<=4;p++){m+="<div class='tooth'>"+(1900+(n+p+200)%200)+"</div>"}k.innerHTML=m}else{return}var o=document.getElementById("date_mm");if(o&&o.getAttribute("val")){var m="";var q=parseInt(o.getAttribute("val"));for(var p=-4;p<=4;p++){m+="<div class='tooth'>"+(1+(q+p+12)%12)+"</div>"}o.innerHTML=m}else{return}var r=document.getElementById("date_dd");if(r&&r.getAttribute("val")){var m="";var i=parseInt(r.getAttribute("val"));var l=calcDays(n,q);for(var p=-4;p<=4;p++){m+="<div class='tooth'>"+(1+(i+p+l)%l)+"</div>"}r.innerHTML=m}else{return}}function calcDays(c,d){if(d==1){c+=1900;if((c%4==0&&c%100!=0)||(c%400==0&&c%4000!=0)){return 29}else{return 28}}else{if(d==3||d==5||d==8||d==10){return 30}else{return 31}}}function finishDateEdit(l){if(!l){l=(window||global).event;if(!l){return}}var e=l.target;var i=document.getElementById("gearDate");i.style.display="none";var j=parseInt(document.getElementById("date_yy").getAttribute("val"));var k=parseInt(document.getElementById("date_mm").getAttribute("val"));var h=parseInt(document.getElementById("date_dd").getAttribute("val"));while(true){if(e.id!=="gearDate"){e=e.parentElement}else{e=e.parentElement;break}}e.getElementsByTagName("input")[0].value=(j%200+1900)+"-"+(k%12+1)+"-"+(h%calcDays(j,k)+1)}function editTime(f){if(!f){f=(window||global).event;if(!f){return}}var d=f.target;var e=document.getElementById("gearTime");if(!e){e=document.createElement("div");e.id="gearTime";e.innerHTML='<div id="time_ctrl">					<div id="time_head">时间：15:48</div>					<div id="time_roll">						<div>							<div class="gear" id="time_hh" 								ontouchstart="gearTouchStart(event)"								ontouchmove="gearTouchMove(event)"								ontouchend="gearTouchEnd(event)"								onmousewheel="gearScroll(event)"></div>							<div class="grid" onmousewheel="gearScroll(event)"><div>时</div></div>						</div>						<div>							<div class="gear" id="time_mm" 								ontouchstart="gearTouchStart(event)"								ontouchmove="gearTouchMove(event)"								ontouchend="gearTouchEnd(event)"								onmousewheel="gearScroll(event)"></div>							<div class="grid" onmousewheel="gearScroll(event)"><div>分</div></div>						</div>					</div>					<div id="date_btn" onclick="finishTimeEdit(event);">确认</div>				</div>'}if(!e.style.display||e.style.display=="none"){d.parentElement.appendChild(e);timeCtrlInit(d);e.style.display="block";window.scrollTo(0,e.parentElement.offsetTop-20)}else{e.style.display="none"}}function timeCtrlInit(f){var d=new Date();var e={hh:d.getHours(),mm:d.getMinutes()};document.getElementById("time_head").innerHTML="时间："+(e.hh<10?0:"")+e.hh+":"+(e.mm<10?0:"")+e.mm;if(/^\d{2}:\d{2}$/.test(f.value)){rs=f.value.match(/(^|:)\d{2}/g);e.hh=parseInt(rs[0].replace(/^0?/g,""));e.mm=parseInt(rs[1].replace(/:0?/g,""))}document.getElementById("time_hh").setAttribute("val",e.hh);document.getElementById("time_mm").setAttribute("val",e.mm);setTimeGear()}function setTimeGear(){var h=document.getElementById("time_hh");if(h&&h.getAttribute("val")){var i="";var l=parseInt(h.getAttribute("val"));for(var g=-4;g<=4;g++){i+="<div class='tooth'>"+((l+g+24)%24)+"</div>"}h.innerHTML=i}else{return}var k=document.getElementById("time_mm");if(k&&k.getAttribute("val")){var i="";var j=parseInt(k.getAttribute("val"));for(var g=-4;g<=4;g++){i+="<div class='tooth'>"+((j+g+60)%60)+"</div>"}k.innerHTML=i}else{return}}function finishTimeEdit(j){if(!j){j=(window||global).event;if(!j){return}}var e=j.target;var h=document.getElementById("gearTime");h.style.display="none";var g=document.getElementById("time_hh").getAttribute("val");var i=document.getElementById("time_mm").getAttribute("val");while(true){if(e.id!=="gearTime"){e=e.parentElement}else{e=e.parentElement;break}}e.getElementsByTagName("input")[0].value=(g.length<2?"0":"")+g+(i.length<2?":0":":")+i}function goodsData(i){var k=i.parentElement.parentElement.parentElement.parentElement;var j=k.parentElement.parentElement;var l=k.getElementsByClassName("form_goods_input")[0].value;var g=k.getElementsByClassName("form_goods_price")[0].innerHTML.replace(/￥/g,"");if(!global.goods){global.goods={}}if(!global.goods[j.id]){var h=j.getElementsByClassName("ctrl_title")[0].innerHTML;global.goods[j.id]={title:h,items:{}}}global.goods[j.id].items[k.id]={title:k.getElementsByClassName("form_goods_title")[0].innerHTML,price:(/\D/.test(g.replace(/\./,""))?0:parseFloat(g)),count:(/\D/.test(l)?0:parseInt(l))}}function orderList(z){if(!global.order){global.order=document.getElementById("form_order")}if(!global.order){global.order=document.createElement("div");global.order.id="form_order";global.order.innerHTML='			<div class="form_order_title">汇总清单</div>			<div class="form_order_lists">			</div>		';var v=document.getElementsByClassName("form_submit")[0];var i=v.previousSibling;if(!/input_password/.test(i.className)){i=null}var E=document.getElementById("main_form");if(i){E.insertBefore(global.order,i)}else{if(v){E.insertBefore(global.order,v)}else{E.appendChild(global.order)}}}var e=global.order.getElementsByClassName("form_order_lists")[0];var y=0;var t=0;for(var j in global.goods){var D=global.goods[j];var w=document.getElementById("order_list-"+j);if(!w){w=document.createElement("div");w.id="order_list-"+j;w.className="form_order_list";w.innerHTML='							<div class="form_order_list_title">☞'+D.title+'</div>							<div class="form_order_table">								<table>									<thead>										<tr>											<th>商品/单价</th>											<th>数量</th>											<th>费用</th>										</tr>									</thead>									<tbody>									</tbody>								</table>							</div>'}var A=w.getElementsByTagName("tbody")[0];A.innerHTML="";var C=0;for(var B in D.items){var F=D.items[B];if(F.count<=0){continue}cost=(F.count*F.price).toString();cost=cost.replace(/(\.\d{1,2})\d*$/,"$1");C++;A.innerHTML+='<tr id="order_list-'+B+'" '+(C%2==0?'style="background-color:#dedede"':"")+">									<td>"+F.title.substring(0,5)+(F.title.length>5?"...":"")+"/￥"+F.price+'</td>									<td>										<div class="form_order_count">											<div class="form_order_minus" onclick="orderMinus(this)"></div>											<div class="form_order_plus" onclick="orderPlus(this)"></div>											<input class="form_order_input" type="text" value="'+F.count+'" onchange="order2ctrl(this)"/>										</div>									</td>									<td>￥'+cost+"</td>								</tr>";y+=F.count;t+=F.count*F.price}if(A.innerHTML.length>10){e.appendChild(w)}else{try{e.removeChild(w)}catch(x){}}}if(y>0){var u=global.order.getElementsByClassName("form_order_sum")[0];if(!u){u=document.createElement("div");u.className="form_order_sum"}t=t.toString();t=t.replace(/(\.\d{1,2})\d*$/,"$1");u.innerHTML='			<div class="form_order_total">总数：<span>'+y+'</span></div>			<div class="form_order_cost">总价：<span>￥'+t+"</span></div>";e.appendChild(u);global.order.style.display="block"}else{global.order.style.display="none"}}function ctrl2order(b){if(/\D/.test(b.value)){b.value=0}goodsData(b);orderList(b)}function order2ctrl(f){if(/\D/.test(f.value)){f.value=0}var d=f.parentElement.parentElement.parentElement;var e=document.getElementById(d.id.replace(/order_list-/,"")).getElementsByTagName("input")[0];e.value=f.value;ctrl2order(e)}function goodsMinus(c){var d=c.parentElement.getElementsByTagName("input")[0];if(/\D/.test(d.value)){d.value=0}d.value=(parseInt(d.value)>0?parseInt(d.value)-1:0);ctrl2order(d)}function goodsPlus(c){var d=c.parentElement.getElementsByTagName("input")[0];if(/\D/.test(d.value)){d.value=0}d.value=parseInt(d.value)+1;ctrl2order(d)}function orderMinus(c){var d=c.parentElement.getElementsByTagName("input")[0];if(/\D/.test(d.value)){d.value=0}d.value=(parseInt(d.value)>0?parseInt(d.value)-1:0);order2ctrl(d)}function orderPlus(c){var d=c.parentElement.getElementsByTagName("input")[0];if(/\D/.test(d.value)){d.value=0}d.value=parseInt(d.value)+1;order2ctrl(d)}var switch_int=3;function beginPageSlides(){var d=document.getElementsByClassName("page_slide_container");for(var e=0;e<d.length;e++){var f=d[e];if(loadImgs(f)){runSlide(f);setTimeout(function(){global["page_slide-"+f.parentElement.parentElement.id].spd=0.1},10000)}}}function loadImgs(obj){if(!global["page_slide-"+obj.parentElement.parentElement.id]){global["page_slide-"+obj.parentElement.parentElement.id]={interval:null,opacity:0,direct:1,index:0,spd:0,srcs:[]}}var srcs_str=obj.getAttribute("srcs");if(!srcs_str){return false}global["page_slide-"+obj.parentElement.parentElement.id].srcs=eval("("+srcs_str+")");for(var i=0;i<global["page_slide-"+obj.parentElement.parentElement.id].srcs.length;i++){var slide_item=global["page_slide-"+obj.parentElement.parentElement.id].srcs[i];slide_item.img.title="page_slide-"+obj.parentElement.parentElement.id;slide_item.img.id=i;slide_item.img.src=slide_item.url;slide_item.img.onload=function(){global[this.title].srcs[this.id].load=1}}return true}function runSlide(b){if(!global["page_slide-"+b.parentElement.parentElement.id]){return}clearInterval(global["page_slide-"+b.parentElement.parentElement.id].interval);global["page_slide-"+b.parentElement.parentElement.id].interval=setInterval(function(){var n=global["page_slide-"+b.parentElement.parentElement.id].opacity;var e=global["page_slide-"+b.parentElement.parentElement.id].direct;if(n<=0){var k=global["page_slide-"+b.parentElement.parentElement.id].srcs;var a=global["page_slide-"+b.parentElement.parentElement.id].index;a=(a+1)%k.length;for(var m=a;m<k.length;m=(m+1)%k.length){if(k[m].load){global["page_slide-"+b.parentElement.parentElement.id].spd=0.1;b.style.backgroundImage="url("+k[m].url+")";if(k[m].link){b.setAttribute("onclick","window.location.href='"+k[m].link+"'")}else{try{b.removeAttribute("onclick")}catch(i){}}global["page_slide-"+b.parentElement.parentElement.id].index=m;break}else{if(m==a-1){break}}}}e=(n>=switch_int?0:(n<=-0?1:e));var l=global["page_slide-"+b.parentElement.parentElement.id].spd;n+=(e?l:-l);b.style.opacity=n;b.style.filter="alpha(opacity="+n*100+")";global["page_slide-"+b.parentElement.parentElement.id].opacity=n;global["page_slide-"+b.parentElement.parentElement.id].direct=e},160)}function rollDelay(j,c,g,h){clearInterval(global[h]);var i=0;global[h]=setInterval(function(){var a=Math.exp(-g*i)*c;j.scrollLeft+=a;moveBalloon(j);if(Math.abs(a)<10){setImgSrc(j);if(Math.abs(a)<=1){clearInterval(global[h])}}i++},16)}function calcWidth(m){var i=[];var l=m.getElementsByClassName("page_guide_item_text");for(var o=0;o<l.length;o++){i[o]=l[o].clientWidth*1.11;var j=l[o].parentElement.getElementsByTagName("img");for(var p=0;p<j.length;p++){i[o]+=j[p].clientWidth+12}}var n=0;for(var o=0;o<i.length;o++){n+=i[o]}var k=m.parentElement.parentElement.id;global[k+"_cw"]=n;global[k+"_aw"]=i;if(n<document.body.clientWidth){n=document.body.clientWidth}m.getElementsByClassName("page_guide_items")[0].style.width=n+"px"}function setGuideWidth(){var d=document.getElementsByClassName("page_guide_container");for(var c=0;c<d.length;c++){calcWidth(d[c]);setProgress(d[c]);setImgSrc(d[c])}}function setProgress(l){var h=l.parentElement.getElementsByClassName("page_guide_progress")[0];var j=l.parentElement.parentElement.id;var i=global[j+"_aw"];var m=global[j+"_cw"];h.innerHTML="";for(var n=0;n<i.length;n++){var k=document.createElement("div");k.style.width=i[n]/m*100+"%";if(n%2==0){k.style.backgroundColor="#83A0A5"}h.appendChild(k)}}function moveBalloon(w){var r=w.parentElement.getElementsByClassName("page_guide_title_text")[0];var D=w.parentElement.getElementsByClassName("page_guide_point")[0];var t=w.parentElement.getElementsByClassName("page_guide_progress")[0];var B=w.parentElement.parentElement.id;var u=global[B+"_aw"];var A=global[B+"_cw"];var s=w.scrollLeft/(A-document.body.clientWidth);D.style.left=s*(D.parentElement.clientWidth-D.offsetWidth)+"px";r.style.left=s*(r.parentElement.clientWidth-r.offsetWidth)+"px";t.style.left=s*(t.parentElement.clientWidth-t.offsetWidth*100/96)+"px";var z=s*A;for(var x=0;x<u.length;x++){z-=u[x];if(z<0){if(global[B+"_ti"]!=x){global[B+"_ti"]=x;var q=w.getElementsByClassName("page_guide_item")[x];r.innerHTML=q.getElementsByClassName("page_guide_item_title")[0].innerHTML;r.className=r.className.replace(/playing|canplay/g,"").replace(/(^\s)|(\s$)/g,"");var y=w.parentElement.getElementsByTagName("audio")[0];var i=w.parentElement.getElementsByClassName("page_guide_balloon")[0];if(y){i.removeChild(y)}var C=q.getAttribute("audio");if(C){var v=document.createElement("audio");v.setAttribute("oncanplay","guideAudioCanplay(this)");v.setAttribute("onplay","guideAudioPlay(this)");v.setAttribute("onpause","guideAudioCanplay(this)");i.appendChild(v);v.src=C}}break}}}function setImgSrc(l){var i=l.getElementsByTagName("img");var j=l.parentElement.parentElement.id;for(var g=0;g<i.length;g++){var h=i[g];if(h.src==""){var k=h.offsetLeft-l.scrollLeft;if(k>-h.clientWidth&&k<document.body.clientWidth){h.src=h.getAttribute("img_src");h.onload=function(){this.style.backgroundImage="url()";guideImgLoad(this)}}}}}function pageGuideMousedown(d,e){if(!e){e=(window||global).event;if(!e){return}}e.preventDefault();var f=d.parentElement.parentElement.id;global[f+"st"]=e.pageX;global[f+"fg"]=1;clearInterval(global[f+"int"])}function pageGuideMousemove(d,e){var f=d.parentElement.parentElement.id;if(!global[f+"fg"]){return}if(!e){e=(window||global).event;if(!e){return}}e.preventDefault();d.scrollLeft+=global[f+"st"]-e.pageX;moveBalloon(d);global[f+"_sp"]=global[f+"st"]-e.pageX;if(global[f+"_sp"]<5){setImgSrc(d)}global[f+"st"]=e.pageX}function pageGuideMouseup(d,e){if(!e){e=(window||global).event;if(!e){return}}e.preventDefault();var f=d.parentElement.parentElement.id;global[f+"fg"]=0;rollDelay(d,global[f+"_sp"],0.03,f+"int")}function pageGuideMouseout(d,e){if(!e){e=(window||global).event;if(!e){return}}e.preventDefault();var f=d.parentElement.parentElement.id;global[f+"fg"]=0}function pageGuideTouchstart(d,e){if(!e){e=(window||global).event;if(!e){return}}var f=d.parentElement.parentElement.id;global[f+"st"]=e.touches[0].pageX;clearInterval(global[f+"int"])}function pageGuideTouchmove(d,e){if(!e){e=(window||global).event;if(!e){return}}var f=d.parentElement.parentElement.id;global[f+"_sp"]=global[f+"st"]-e.touches[0].pageX;if(Math.abs(global[f+"_sp"])>=5){e.preventDefault()}if(Math.abs(global[f+"_sp"])<10){setImgSrc(d)}d.scrollLeft+=global[f+"_sp"];moveBalloon(d);global[f+"st"]=e.touches[0].pageX}function pageGuideTouchend(d,e){if(!e){e=(window||global).event;if(!e){return}}var f=d.parentElement.parentElement.id;rollDelay(d,global[f+"_sp"],0.06,f+"int")}function guideImgLoad(b){b=b.parentElement.parentElement.parentElement.parentElement;calcWidth(b);setProgress(b)}function guideAudioToggle(c){var d=c.parentElement.parentElement.getElementsByTagName("audio")[0];if(d){if(d.paused){closeAllAudio(d);d.play()}else{d.pause()}}}function guideAudioCanplay(d){var c=d.parentElement.getElementsByClassName("page_guide_title_text")[0];if(/canplay/.test(c.className)){return}c.className=c.className.replace(/playing/,"").replace(/(^\s)|(\s$)/g,"");c.className+=" canplay"}function guideAudioPlay(d){var c=d.parentElement.getElementsByClassName("page_guide_title_text")[0];if(/playing/.test(c.className)){return}c.className=c.className.replace(/canplay/,"").replace(/(^\s)|(\s$)/g,"");c.className+=" playing"}var regionData={"0":{"1":{id:"1",pid:"0",type:"0",name:"中国"}},"1":{"27":{id:"27",pid:"1",type:"1",name:"云南"},"26":{id:"26",pid:"1",type:"1",name:"贵州"},"25":{id:"25",pid:"1",type:"1",name:"四川"},"24":{id:"24",pid:"1",type:"1",name:"重庆"},"23":{id:"23",pid:"1",type:"1",name:"海南"},"22":{id:"22",pid:"1",type:"1",name:"广西"},"28":{id:"28",pid:"1",type:"1",name:"西藏"},"29":{id:"29",pid:"1",type:"1",name:"陕西"},"30":{id:"30",pid:"1",type:"1",name:"甘肃"},"31":{id:"31",pid:"1",type:"1",name:"青海"},"32":{id:"32",pid:"1",type:"1",name:"宁夏"},"33":{id:"33",pid:"1",type:"1",name:"新疆"},"34":{id:"34",pid:"1",type:"1",name:"香港"},"35":{id:"35",pid:"1",type:"1",name:"澳门"},"36":{id:"36",pid:"1",type:"1",name:"台湾"},"21":{id:"21",pid:"1",type:"1",name:"广东"},"20":{id:"20",pid:"1",type:"1",name:"湖南"},"19":{id:"19",pid:"1",type:"1",name:"湖北"},"4":{id:"4",pid:"1",type:"1",name:"天津"},"5":{id:"5",pid:"1",type:"1",name:"河北"},"6":{id:"6",pid:"1",type:"1",name:"山西"},"7":{id:"7",pid:"1",type:"1",name:"内蒙"},"8":{id:"8",pid:"1",type:"1",name:"辽宁"},"9":{id:"9",pid:"1",type:"1",name:"吉林"},"10":{id:"10",pid:"1",type:"1",name:"黑龙江"},"11":{id:"11",pid:"1",type:"1",name:"上海"},"12":{id:"12",pid:"1",type:"1",name:"江苏"},"13":{id:"13",pid:"1",type:"1",name:"浙江"},"14":{id:"14",pid:"1",type:"1",name:"安徽"},"15":{id:"15",pid:"1",type:"1",name:"福建"},"16":{id:"16",pid:"1",type:"1",name:"江西"},"17":{id:"17",pid:"1",type:"1",name:"山东"},"18":{id:"18",pid:"1",type:"1",name:"河南"},"3":{id:"3",pid:"1",type:"1",name:"北京"}},"5":{"39":{id:"39",pid:"5",type:"2",name:"石家庄"},"49":{id:"49",pid:"5",type:"2",name:"衡水"},"48":{id:"48",pid:"5",type:"2",name:"廊坊"},"47":{id:"47",pid:"5",type:"2",name:"沧州"},"46":{id:"46",pid:"5",type:"2",name:"承德"},"45":{id:"45",pid:"5",type:"2",name:"张家口"},"44":{id:"44",pid:"5",type:"2",name:"保定"},"43":{id:"43",pid:"5",type:"2",name:"邢台"},"42":{id:"42",pid:"5",type:"2",name:"邯郸"},"41":{id:"41",pid:"5",type:"2",name:"秦皇岛"},"40":{id:"40",pid:"5",type:"2",name:"唐山"}},"6":{"57":{id:"57",pid:"6",type:"2",name:"运城"},"58":{id:"58",pid:"6",type:"2",name:"忻州"},"59":{id:"59",pid:"6",type:"2",name:"临汾"},"60":{id:"60",pid:"6",type:"2",name:"吕梁"},"56":{id:"56",pid:"6",type:"2",name:"晋中"},"55":{id:"55",pid:"6",type:"2",name:"朔州"},"50":{id:"50",pid:"6",type:"2",name:"太原"},"51":{id:"51",pid:"6",type:"2",name:"大同"},"52":{id:"52",pid:"6",type:"2",name:"阳泉"},"53":{id:"53",pid:"6",type:"2",name:"长治"},"54":{id:"54",pid:"6",type:"2",name:"晋城"}},"7":{"72":{id:"72",pid:"7",type:"2",name:"阿拉善盟"},"71":{id:"71",pid:"7",type:"2",name:"锡林郭勒盟"},"70":{id:"70",pid:"7",type:"2",name:"兴安盟"},"69":{id:"69",pid:"7",type:"2",name:"乌兰察布"},"68":{id:"68",pid:"7",type:"2",name:"巴彦淖尔"},"67":{id:"67",pid:"7",type:"2",name:"呼伦贝尔"},"66":{id:"66",pid:"7",type:"2",name:"鄂尔多斯"},"65":{id:"65",pid:"7",type:"2",name:"通辽"},"64":{id:"64",pid:"7",type:"2",name:"赤峰"},"63":{id:"63",pid:"7",type:"2",name:"乌海"},"62":{id:"62",pid:"7",type:"2",name:"包头"},"61":{id:"61",pid:"7",type:"2",name:"呼和浩特"}},"8":{"82":{id:"82",pid:"8",type:"2",name:"辽阳"},"83":{id:"83",pid:"8",type:"2",name:"盘锦"},"84":{id:"84",pid:"8",type:"2",name:"铁岭"},"85":{id:"85",pid:"8",type:"2",name:"朝阳"},"86":{id:"86",pid:"8",type:"2",name:"葫芦岛"},"81":{id:"81",pid:"8",type:"2",name:"阜新"},"80":{id:"80",pid:"8",type:"2",name:"营口"},"79":{id:"79",pid:"8",type:"2",name:"锦州"},"73":{id:"73",pid:"8",type:"2",name:"沈阳"},"74":{id:"74",pid:"8",type:"2",name:"大连"},"75":{id:"75",pid:"8",type:"2",name:"鞍山"},"76":{id:"76",pid:"8",type:"2",name:"抚顺"},"77":{id:"77",pid:"8",type:"2",name:"本溪"},"78":{id:"78",pid:"8",type:"2",name:"丹东"}},"9":{"95":{id:"95",pid:"9",type:"2",name:"延边朝鲜族"},"94":{id:"94",pid:"9",type:"2",name:"白城"},"93":{id:"93",pid:"9",type:"2",name:"松原"},"92":{id:"92",pid:"9",type:"2",name:"白山"},"91":{id:"91",pid:"9",type:"2",name:"通化"},"90":{id:"90",pid:"9",type:"2",name:"辽源"},"89":{id:"89",pid:"9",type:"2",name:"四平"},"88":{id:"88",pid:"9",type:"2",name:"吉林"},"87":{id:"87",pid:"9",type:"2",name:"长春"}},"10":{"104":{id:"104",pid:"10",type:"2",name:"七台河"},"105":{id:"105",pid:"10",type:"2",name:"牡丹江"},"106":{id:"106",pid:"10",type:"2",name:"黑河"},"107":{id:"107",pid:"10",type:"2",name:"绥化"},"108":{id:"108",pid:"10",type:"2",name:"大兴安岭"},"103":{id:"103",pid:"10",type:"2",name:"佳木斯"},"102":{id:"102",pid:"10",type:"2",name:"伊春"},"96":{id:"96",pid:"10",type:"2",name:"哈尔滨"},"97":{id:"97",pid:"10",type:"2",name:"齐齐哈尔"},"98":{id:"98",pid:"10",type:"2",name:"鸡西"},"99":{id:"99",pid:"10",type:"2",name:"鹤岗"},"100":{id:"100",pid:"10",type:"2",name:"双鸭山"},"101":{id:"101",pid:"10",type:"2",name:"大庆"}},"12":{"118":{id:"118",pid:"12",type:"2",name:"盐城"},"119":{id:"119",pid:"12",type:"2",name:"扬州"},"120":{id:"120",pid:"12",type:"2",name:"镇江"},"121":{id:"121",pid:"12",type:"2",name:"泰州"},"122":{id:"122",pid:"12",type:"2",name:"宿迁"},"117":{id:"117",pid:"12",type:"2",name:"淮安"},"116":{id:"116",pid:"12",type:"2",name:"连云港"},"110":{id:"110",pid:"12",type:"2",name:"南京"},"111":{id:"111",pid:"12",type:"2",name:"无锡"},"112":{id:"112",pid:"12",type:"2",name:"徐州"},"113":{id:"113",pid:"12",type:"2",name:"常州"},"114":{id:"114",pid:"12",type:"2",name:"苏州"},"115":{id:"115",pid:"12",type:"2",name:"南通"}},"13":{"133":{id:"133",pid:"13",type:"2",name:"丽水"},"132":{id:"132",pid:"13",type:"2",name:"台州"},"131":{id:"131",pid:"13",type:"2",name:"舟山"},"130":{id:"130",pid:"13",type:"2",name:"衢州"},"129":{id:"129",pid:"13",type:"2",name:"金华"},"128":{id:"128",pid:"13",type:"2",name:"绍兴"},"127":{id:"127",pid:"13",type:"2",name:"湖州"},"126":{id:"126",pid:"13",type:"2",name:"嘉兴"},"125":{id:"125",pid:"13",type:"2",name:"温州"},"124":{id:"124",pid:"13",type:"2",name:"宁波"},"123":{id:"123",pid:"13",type:"2",name:"杭州"}},"14":{"144":{id:"144",pid:"14",type:"2",name:"阜阳"},"145":{id:"145",pid:"14",type:"2",name:"宿州"},"146":{id:"146",pid:"14",type:"2",name:"巢湖"},"147":{id:"147",pid:"14",type:"2",name:"六安"},"148":{id:"148",pid:"14",type:"2",name:"亳州"},"149":{id:"149",pid:"14",type:"2",name:"池州"},"150":{id:"150",pid:"14",type:"2",name:"宣城"},"143":{id:"143",pid:"14",type:"2",name:"滁州"},"142":{id:"142",pid:"14",type:"2",name:"黄山"},"134":{id:"134",pid:"14",type:"2",name:"合肥"},"135":{id:"135",pid:"14",type:"2",name:"芜湖"},"136":{id:"136",pid:"14",type:"2",name:"蚌埠"},"137":{id:"137",pid:"14",type:"2",name:"淮南"},"138":{id:"138",pid:"14",type:"2",name:"马鞍山"},"139":{id:"139",pid:"14",type:"2",name:"淮北"},"140":{id:"140",pid:"14",type:"2",name:"铜陵"},"141":{id:"141",pid:"14",type:"2",name:"安庆"}},"15":{"159":{id:"159",pid:"15",type:"2",name:"宁德"},"158":{id:"158",pid:"15",type:"2",name:"龙岩"},"157":{id:"157",pid:"15",type:"2",name:"南平"},"156":{id:"156",pid:"15",type:"2",name:"漳州"},"155":{id:"155",pid:"15",type:"2",name:"泉州"},"154":{id:"154",pid:"15",type:"2",name:"三明"},"153":{id:"153",pid:"15",type:"2",name:"莆田"},"152":{id:"152",pid:"15",type:"2",name:"厦门"},"151":{id:"151",pid:"15",type:"2",name:"福州"}},"16":{"167":{id:"167",pid:"16",type:"2",name:"吉安"},"168":{id:"168",pid:"16",type:"2",name:"宜春"},"169":{id:"169",pid:"16",type:"2",name:"抚州"},"170":{id:"170",pid:"16",type:"2",name:"上饶"},"166":{id:"166",pid:"16",type:"2",name:"赣州"},"165":{id:"165",pid:"16",type:"2",name:"鹰潭"},"164":{id:"164",pid:"16",type:"2",name:"新余"},"163":{id:"163",pid:"16",type:"2",name:"九江"},"162":{id:"162",pid:"16",type:"2",name:"萍乡"},"161":{id:"161",pid:"16",type:"2",name:"景德镇"},"160":{id:"160",pid:"16",type:"2",name:"南昌"}},"17":{"181":{id:"181",pid:"17",type:"2",name:"日照"},"182":{id:"182",pid:"17",type:"2",name:"莱芜"},"183":{id:"183",pid:"17",type:"2",name:"临沂"},"184":{id:"184",pid:"17",type:"2",name:"德州"},"185":{id:"185",pid:"17",type:"2",name:"聊城"},"186":{id:"186",pid:"17",type:"2",name:"滨州"},"187":{id:"187",pid:"17",type:"2",name:"荷泽"},"180":{id:"180",pid:"17",type:"2",name:"威海"},"179":{id:"179",pid:"17",type:"2",name:"泰安"},"171":{id:"171",pid:"17",type:"2",name:"济南"},"172":{id:"172",pid:"17",type:"2",name:"青岛"},"173":{id:"173",pid:"17",type:"2",name:"淄博"},"174":{id:"174",pid:"17",type:"2",name:"枣庄"},"175":{id:"175",pid:"17",type:"2",name:"东营"},"176":{id:"176",pid:"17",type:"2",name:"烟台"},"177":{id:"177",pid:"17",type:"2",name:"潍坊"},"178":{id:"178",pid:"17",type:"2",name:"济宁"}},"18":{"198":{id:"198",pid:"18",type:"2",name:"漯河"},"199":{id:"199",pid:"18",type:"2",name:"三门峡"},"200":{id:"200",pid:"18",type:"2",name:"南阳"},"201":{id:"201",pid:"18",type:"2",name:"商丘"},"202":{id:"202",pid:"18",type:"2",name:"信阳"},"203":{id:"203",pid:"18",type:"2",name:"周口"},"204":{id:"204",pid:"18",type:"2",name:"驻马店"},"197":{id:"197",pid:"18",type:"2",name:"许昌"},"196":{id:"196",pid:"18",type:"2",name:"濮阳"},"188":{id:"188",pid:"18",type:"2",name:"郑州"},"189":{id:"189",pid:"18",type:"2",name:"开封"},"190":{id:"190",pid:"18",type:"2",name:"洛阳"},"191":{id:"191",pid:"18",type:"2",name:"平顶山"},"192":{id:"192",pid:"18",type:"2",name:"安阳"},"193":{id:"193",pid:"18",type:"2",name:"鹤壁"},"194":{id:"194",pid:"18",type:"2",name:"新乡"},"195":{id:"195",pid:"18",type:"2",name:"焦作"}},"19":{"214":{id:"214",pid:"19",type:"2",name:"黄冈"},"215":{id:"215",pid:"19",type:"2",name:"咸宁"},"216":{id:"216",pid:"19",type:"2",name:"随州"},"217":{id:"217",pid:"19",type:"2",name:"恩施"},"218":{id:"218",pid:"19",type:"2",name:"神农架"},"213":{id:"213",pid:"19",type:"2",name:"荆州"},"212":{id:"212",pid:"19",type:"2",name:"孝感"},"211":{id:"211",pid:"19",type:"2",name:"荆门"},"205":{id:"205",pid:"19",type:"2",name:"武汉"},"206":{id:"206",pid:"19",type:"2",name:"黄石"},"207":{id:"207",pid:"19",type:"2",name:"十堰"},"208":{id:"208",pid:"19",type:"2",name:"宜昌"},"209":{id:"209",pid:"19",type:"2",name:"襄樊"},"210":{id:"210",pid:"19",type:"2",name:"鄂州"},"380":{id:"380",pid:"19",type:"2",name:"天门"},"381":{id:"381",pid:"19",type:"2",name:"仙桃"},"382":{id:"382",pid:"19",type:"2",name:"潜江"}},"20":{"232":{id:"232",pid:"20",type:"2",name:"湘西"},"231":{id:"231",pid:"20",type:"2",name:"娄底"},"230":{id:"230",pid:"20",type:"2",name:"怀化"},"229":{id:"229",pid:"20",type:"2",name:"永州"},"228":{id:"228",pid:"20",type:"2",name:"郴州"},"227":{id:"227",pid:"20",type:"2",name:"益阳"},"226":{id:"226",pid:"20",type:"2",name:"张家界"},"225":{id:"225",pid:"20",type:"2",name:"常德"},"219":{id:"219",pid:"20",type:"2",name:"长沙"},"220":{id:"220",pid:"20",type:"2",name:"株洲"},"221":{id:"221",pid:"20",type:"2",name:"湘潭"},"222":{id:"222",pid:"20",type:"2",name:"衡阳"},"223":{id:"223",pid:"20",type:"2",name:"邵阳"},"224":{id:"224",pid:"20",type:"2",name:"岳阳"}},"21":{"245":{id:"245",pid:"21",type:"2",name:"汕尾"},"246":{id:"246",pid:"21",type:"2",name:"河源"},"247":{id:"247",pid:"21",type:"2",name:"阳江"},"248":{id:"248",pid:"21",type:"2",name:"清远"},"249":{id:"249",pid:"21",type:"2",name:"东莞"},"250":{id:"250",pid:"21",type:"2",name:"中山"},"251":{id:"251",pid:"21",type:"2",name:"潮州"},"252":{id:"252",pid:"21",type:"2",name:"揭阳"},"253":{id:"253",pid:"21",type:"2",name:"云浮"},"244":{id:"244",pid:"21",type:"2",name:"梅州"},"243":{id:"243",pid:"21",type:"2",name:"惠州"},"233":{id:"233",pid:"21",type:"2",name:"广州"},"234":{id:"234",pid:"21",type:"2",name:"韶关"},"235":{id:"235",pid:"21",type:"2",name:"深圳"},"236":{id:"236",pid:"21",type:"2",name:"珠海"},"237":{id:"237",pid:"21",type:"2",name:"汕头"},"238":{id:"238",pid:"21",type:"2",name:"佛山"},"239":{id:"239",pid:"21",type:"2",name:"江门"},"240":{id:"240",pid:"21",type:"2",name:"湛江"},"241":{id:"241",pid:"21",type:"2",name:"茂名"},"242":{id:"242",pid:"21",type:"2",name:"肇庆"}},"22":{"263":{id:"263",pid:"22",type:"2",name:"百色"},"264":{id:"264",pid:"22",type:"2",name:"贺州"},"265":{id:"265",pid:"22",type:"2",name:"河池"},"266":{id:"266",pid:"22",type:"2",name:"来宾"},"267":{id:"267",pid:"22",type:"2",name:"崇左"},"262":{id:"262",pid:"22",type:"2",name:"玉林"},"261":{id:"261",pid:"22",type:"2",name:"贵港"},"260":{id:"260",pid:"22",type:"2",name:"钦州"},"259":{id:"259",pid:"22",type:"2",name:"防城港"},"258":{id:"258",pid:"22",type:"2",name:"北海"},"257":{id:"257",pid:"22",type:"2",name:"梧州"},"256":{id:"256",pid:"22",type:"2",name:"桂林"},"255":{id:"255",pid:"22",type:"2",name:"柳州"},"254":{id:"254",pid:"22",type:"2",name:"南宁"}},"23":{"269":{id:"269",pid:"23",type:"2",name:"三亚"},"268":{id:"268",pid:"23",type:"2",name:"海口"}},"25":{"283":{id:"283",pid:"25",type:"2",name:"宜宾"},"284":{id:"284",pid:"25",type:"2",name:"广安"},"286":{id:"286",pid:"25",type:"2",name:"雅安"},"287":{id:"287",pid:"25",type:"2",name:"巴中"},"288":{id:"288",pid:"25",type:"2",name:"资阳"},"289":{id:"289",pid:"25",type:"2",name:"阿坝"},"290":{id:"290",pid:"25",type:"2",name:"甘孜"},"291":{id:"291",pid:"25",type:"2",name:"凉山"},"285":{id:"285",pid:"25",type:"2",name:"达州"},"282":{id:"282",pid:"25",type:"2",name:"眉山"},"281":{id:"281",pid:"25",type:"2",name:"南充"},"271":{id:"271",pid:"25",type:"2",name:"成都"},"272":{id:"272",pid:"25",type:"2",name:"自贡"},"273":{id:"273",pid:"25",type:"2",name:"攀枝花"},"274":{id:"274",pid:"25",type:"2",name:"泸州"},"275":{id:"275",pid:"25",type:"2",name:"德阳"},"276":{id:"276",pid:"25",type:"2",name:"绵阳"},"277":{id:"277",pid:"25",type:"2",name:"广元"},"278":{id:"278",pid:"25",type:"2",name:"遂宁"},"279":{id:"279",pid:"25",type:"2",name:"内江"},"280":{id:"280",pid:"25",type:"2",name:"乐山"}},"26":{"300":{id:"300",pid:"26",type:"2",name:"黔南"},"299":{id:"299",pid:"26",type:"2",name:"黔东南"},"298":{id:"298",pid:"26",type:"2",name:"毕节"},"297":{id:"297",pid:"26",type:"2",name:"黔西南"},"296":{id:"296",pid:"26",type:"2",name:"铜仁"},"295":{id:"295",pid:"26",type:"2",name:"安顺"},"294":{id:"294",pid:"26",type:"2",name:"遵义"},"293":{id:"293",pid:"26",type:"2",name:"六盘水"},"292":{id:"292",pid:"26",type:"2",name:"贵阳"}},"27":{"311":{id:"311",pid:"27",type:"2",name:"大理"},"312":{id:"312",pid:"27",type:"2",name:"德宏"},"313":{id:"313",pid:"27",type:"2",name:"怒江"},"314":{id:"314",pid:"27",type:"2",name:"迪庆"},"315":{id:"315",pid:"27",type:"2",name:"普洱"},"316":{id:"316",pid:"27",type:"2",name:"红河"},"310":{id:"310",pid:"27",type:"2",name:"西双版纳"},"309":{id:"309",pid:"27",type:"2",name:"文山"},"308":{id:"308",pid:"27",type:"2",name:"楚雄"},"301":{id:"301",pid:"27",type:"2",name:"昆明"},"302":{id:"302",pid:"27",type:"2",name:"曲靖"},"303":{id:"303",pid:"27",type:"2",name:"玉溪"},"304":{id:"304",pid:"27",type:"2",name:"保山"},"305":{id:"305",pid:"27",type:"2",name:"昭通"},"306":{id:"306",pid:"27",type:"2",name:"丽江"},"307":{id:"307",pid:"27",type:"2",name:"临沧"}},"28":{"323":{id:"323",pid:"28",type:"2",name:"林芝"},"322":{id:"322",pid:"28",type:"2",name:"阿里"},"321":{id:"321",pid:"28",type:"2",name:"那曲"},"320":{id:"320",pid:"28",type:"2",name:"日喀则"},"319":{id:"319",pid:"28",type:"2",name:"山南"},"318":{id:"318",pid:"28",type:"2",name:"昌都"},"317":{id:"317",pid:"28",type:"2",name:"拉萨"}},"29":{"332":{id:"332",pid:"29",type:"2",name:"安康"},"333":{id:"333",pid:"29",type:"2",name:"商洛"},"331":{id:"331",pid:"29",type:"2",name:"榆林"},"330":{id:"330",pid:"29",type:"2",name:"汉中"},"329":{id:"329",pid:"29",type:"2",name:"延安"},"328":{id:"328",pid:"29",type:"2",name:"渭南"},"327":{id:"327",pid:"29",type:"2",name:"咸阳"},"326":{id:"326",pid:"29",type:"2",name:"宝鸡"},"325":{id:"325",pid:"29",type:"2",name:"铜川"},"324":{id:"324",pid:"29",type:"2",name:"西安"}},"30":{"343":{id:"343",pid:"30",type:"2",name:"庆阳"},"344":{id:"344",pid:"30",type:"2",name:"定西"},"345":{id:"345",pid:"30",type:"2",name:"陇南"},"346":{id:"346",pid:"30",type:"2",name:"临夏"},"347":{id:"347",pid:"30",type:"2",name:"甘南"},"335":{id:"335",pid:"30",type:"2",name:"嘉峪关"},"342":{id:"342",pid:"30",type:"2",name:"酒泉"},"341":{id:"341",pid:"30",type:"2",name:"平凉"},"334":{id:"334",pid:"30",type:"2",name:"兰州"},"336":{id:"336",pid:"30",type:"2",name:"金昌"},"337":{id:"337",pid:"30",type:"2",name:"白银"},"338":{id:"338",pid:"30",type:"2",name:"天水"},"339":{id:"339",pid:"30",type:"2",name:"武威"},"340":{id:"340",pid:"30",type:"2",name:"张掖"}},"31":{"355":{id:"355",pid:"31",type:"2",name:"海西"},"354":{id:"354",pid:"31",type:"2",name:"玉树"},"353":{id:"353",pid:"31",type:"2",name:"果洛"},"352":{id:"352",pid:"31",type:"2",name:"海南"},"351":{id:"351",pid:"31",type:"2",name:"黄南"},"350":{id:"350",pid:"31",type:"2",name:"海北"},"349":{id:"349",pid:"31",type:"2",name:"海东"},"348":{id:"348",pid:"31",type:"2",name:"西宁"}},"32":{"357":{id:"357",pid:"32",type:"2",name:"石嘴山"},"360":{id:"360",pid:"32",type:"2",name:"中卫"},"359":{id:"359",pid:"32",type:"2",name:"固原"},"358":{id:"358",pid:"32",type:"2",name:"吴忠"},"356":{id:"356",pid:"32",type:"2",name:"银川"}},"33":{"370":{id:"370",pid:"33",type:"2",name:"喀什"},"371":{id:"371",pid:"33",type:"2",name:"和田"},"372":{id:"372",pid:"33",type:"2",name:"伊犁哈萨克"},"373":{id:"373",pid:"33",type:"2",name:"塔城"},"374":{id:"374",pid:"33",type:"2",name:"阿勒泰"},"375":{id:"375",pid:"33",type:"2",name:"石河子"},"369":{id:"369",pid:"33",type:"2",name:"克孜勒苏"},"368":{id:"368",pid:"33",type:"2",name:"阿克苏"},"361":{id:"361",pid:"33",type:"2",name:"乌鲁木齐"},"362":{id:"362",pid:"33",type:"2",name:"克拉玛依"},"363":{id:"363",pid:"33",type:"2",name:"吐鲁番"},"364":{id:"364",pid:"33",type:"2",name:"哈密"},"365":{id:"365",pid:"33",type:"2",name:"昌吉"},"366":{id:"366",pid:"33",type:"2",name:"博尔塔拉"},"367":{id:"367",pid:"33",type:"2",name:"巴音郭楞"},"383":{id:"383",pid:"33",type:"2",name:"阿拉尔"}},};function adAddrItems(i,j){var g=i.parentElement.getElementsByClassName("textarea_detail")[0];var f=i.parentElement.getElementsByClassName("addr_new_son")[0];if(regionData[j]){var h=document.createElement("div");h.className="addr_item";h.innerHTML='			<select class="addr_select" op="" np="'+j+'" 				ontouchstart="getAddrOpts(this);"				onmousedown="getAddrOpts(this);"				onchange="addrItemCh(this);">				<option value="">--请选择地址项--</option>			</select>			<div></div>		';i.appendChild(h);g.style.display="none";f.style.display="none"}else{g.style.display="block";f.style.display="block"}}function rmAddrItems(d){while(true){if(d.nextElementSibling){d.parentElement.removeChild(d.nextElementSibling)}else{break}}var f=d.parentElement.parentElement.getElementsByClassName("addr_new_items")[0];f.style.display="none";f.innerHTML='		<div class="addr_new_item">			<input type="text" placeholder="请输入新建地点记录" 			maxlength="8" 			onfocus="addrInputFocus(this);" 			onblur="addrInputBlur(this);"/>		</div>';var e=d.parentElement.parentElement.getElementsByClassName("textarea_detail")[0];e.style.display="none"}function getAddrOpts(h){var i=h.getAttribute("np");if(i==h.getAttribute("op")){return}var j=regionData[i];h.innerHTML='<option value="">--请选择地址项--</option>';for(var g in j){var f=document.createElement("option");f.value=j[g].id;f.innerHTML=j[g].name;h.appendChild(f)}h.innerHTML+='<option value="0">-新建地点记录-</option>';h.setAttribute("op",h.getAttribute("np"))}function addrItemCh(h){rmAddrItems(h.parentElement);h.parentElement.style.backgroundColor="transparent";if(h.value==""){}else{if(h.value==="0"){h.parentElement.style.backgroundColor="#bababa";var g=h.parentElement.parentElement.parentElement.getElementsByClassName("addr_new_items")[0];g.style.display="block";var f=h.parentElement.parentElement.parentElement.getElementsByClassName("textarea_detail")[0];f.style.display="block";var e=h.parentElement.parentElement.parentElement.getElementsByClassName("addr_new_son")[0];e.style.display="none"}else{adAddrItems(h.parentElement.parentElement,h.value)}}}function newAddrItem(d){var c=document.createElement("div");c.className="addr_new_item";c.innerHTML='		<input type="text" placeholder="请输入新建地点记录"			maxlength="8"			onfocus="addrInputFocus(this);"			onblur="addrInputBlur(this);"/>		';if(d.parentElement.parentElement.nextElementSibling){d.parentElement.parentElement.parentElement.insertBefore(c,d.parentElement.parentElement.nextElementSibling)}else{d.parentElement.parentElement.parentElement.appendChild(c)}c.getElementsByTagName("input")[0].select()}function delAddrItem(h){var f=h.parentElement.parentElement.parentElement;if(f.getElementsByClassName("addr_new_item").length<=1){var g=f.previousElementSibling.previousElementSibling.getElementsByTagName("select");var e=g[g.length-1];if(e.options.length<=2){e.parentElement.parentElement.removeChild(e.parentElement);f.previousElementSibling.style.display="block"}else{e.value="";e.parentElement.style.backgroundColor="transparent";f.nextElementSibling.style.display="none"}}f.removeChild(h.parentElement.parentElement)}function addrInputFocus(d){var c=document.createElement("div");c.className="new_addr_item_ctrl";c.innerHTML='		<div onclick="newAddrItem(this)"></div>		<div onclick="delAddrItem(this)"></div>	';d.parentElement.appendChild(c)}function addrInputBlur(b){setTimeout(function(){b.parentElement.removeChild(b.nextElementSibling)},200)}function newAddrSon(g){var f=g.parentElement.getElementsByTagName("select");var e=f[f.length-1];var h=e.value;if(h&&h!="0"){regionData[h]={};adAddrItems(g.previousElementSibling,h)}g.style.display="none"}var share=function(d){var f=document.createElement("div"),e=new Image();e.src=d.getAttribute("src")||"http://static.v5kf.com/images/v5_website/pic_share.png";f.id="share_mask";f.style.position="fixed";f.style.top="0";f.style.width="100%";f.style.height="100%";f.style.backgroundColor="rgba(0,0,0,.6)";f.style.backgroundImage="url("+e.src+")";f.style.backgroundPosition="top";f.style.backgroundSize="80% auto";f.style.backgroundRepeat="no-repeat";f.style.zIndex="2147483583";document.body.appendChild(f);f.setAttribute("onclick","this.parentElement.removeChild(this);")};var ajaxUpload=function(h){if(typeof window.form==="undefined"){form={}}var j=h.parentElement.getElementsByTagName("div")[0].getElementsByTagName("div");var i=h.parentElement.getElementsByTagName("img")[0].src;var g=global["xmlhttp_"+h.parentElement.parentElement.id];if(!g){g=XMLHttpRequest?(new XMLHttpRequest()):(new ActiveXObject("Microsoft.XMLHTTP"));if(g==null){return}g.btns=j;global["xmlhttp_"+h.parentElement.parentElement.id]=g}g.onreadystatechange=function(){if(g.readyState==4){if(/20\d/.test(g.status)){var a=JSON.parse(g.responseText);var b=global["xmlhttp_"+a.aid].btns;b[2].style.display="";var c=b[0].parentElement.parentElement.getElementsByTagName("span")[0];if(a.state=="ok"){c.innerHTML="上传成功！";b[0].innerHTML="换一张";b[1].style.display="";c.parentElement.parentElement.setAttribute("val",a.info)}else{c.innerHTML="上传失败！";b[0].innerHTML="换其他";b[1].style.display="block";c.parentElement.parentElement.removeAttribute("val")}}else{alert("后端出错！")}no_submit=false}};g.open("POST","/public/vdata/uploadImage",true);g.setRequestHeader("Content-type","application/x-www-form-urlencoded");g.send("data="+JSON.stringify({sid:form.sid||"0",uid:form.uid||"0",fid:form.fid||"0",pid:h.parentElement.parentElement.id,src:i}));var f=j[0].parentElement.parentElement.getElementsByTagName("span")[0];f.innerHTML="上传中...";j[1].style.display="";j[2].style.display="block"};function compressImg(g,e,h){var f=new Image();f.onload=function(){var d=document.createElement("canvas");var b=Math.sqrt(e/300000);if(/image\/png/.test(d.toDataURL("image/jpeg"))){b=Math.sqrt(e/40000)}d.width=this.width/b;d.height=this.height/b;var c=d.getContext("2d");c.drawImage(this,0,0,this.width/b,this.height/b);var a=d.toDataURL("image/jpeg");h.src=a;ajaxUpload(h)};g=g.replace(/(data:)(\s*base)/,"$1image/jpeg;$2");f.src=g}function fileChange(f){if(f.files.length>0){no_submit=true;f.parentElement.getElementsByTagName("span")[0].innerHTML="打开中...";var d=f.files[0];if(d&&((d.type&&/image\/(jpeg|png|gif)/i.test(d.type))||(d.name&&/\.(jpg|png|gif)$/i.test(d.name)))){var e=new FileReader();e.onload=function(a){var b=f.parentElement.getElementsByTagName("img")[0];if((a.total||a.loaded)>300000){compressImg(a.target.result,a.total||a.loaded,b)}else{b.src=a.target.result;ajaxUpload(f)}};e.readAsDataURL(f.files[0]);setTimeout(function(){if(e.readyState<2){e.abort();alert("读取文件超时,可能是您的软件性能较弱，请重试！");f.parentElement.getElementsByTagName("span")[0].innerHTML="请单击打开按钮上传文件"}},10000)}else{alert("您打开的文件格式不正确！");f.parentElement.getElementsByTagName("span")[0].innerHTML="请单击打开按钮上传文件"}}}function openFile(b){if(typeof this.parent.myiframe!="undefined"){return}if(typeof FileReader==="undefined"){alert("您的浏览器不支持本接口！");return}b.parentElement.parentElement.getElementsByTagName("input")[0].click()}function reUpload(c){no_submit=true;c.style.display="";var d=c.parentElement.parentElement.getElementsByTagName("img")[0];if(/dft\.jpg/i.test(d.src)){d.parentElement.getElementsByTagName("input")[0].click()}else{ajaxUpload(d)}}function terminateAjax(f){if(global["xmlhttp_"+f.parentElement.parentElement.parentElement.id]){var e=global["xmlhttp_"+f.parentElement.parentElement.parentElement.id];if(e.readyState!=4){e.abort()}var d=e.btns[0].parentElement.parentElement.getElementsByTagName("span")[0];d.innerHTML="上传失败！";e.btns[0].innerHTML="换其他";e.btns[1].style.display="block";e.btns[2].style.display=""}}var editCoordinate=function(o){var r=document.getElementById("mapBox");if(!r){r=document.createElement("div");r.id="mapBox";var p=document.createElement("div");p.id="mapPnl";r.appendChild(p);var q=document.createElement("div");q.id="btns";r.appendChild(q);var l=document.createElement("div");l.id="btnHere";l.innerHTML="定位";l.setAttribute("onclick","getHere(this)");q.appendChild(l);var n=document.createElement("div");n.id="btnClose";n.innerHTML="清除";n.setAttribute("onclick","cancelCoord(this)");q.appendChild(n);var k=document.createElement("div");k.id="btnClose";k.innerHTML="完成";k.setAttribute("onclick","this.parentElement.parentElement.style.display='';");q.appendChild(k)}else{var m=document.getElementById("mapBox").parentElement.getElementsByTagName("input")[0];o.value=o.value||m.value;o.setAttribute("val",o.getAttribute("val")||m.getAttribute("val"));if(o.value===""){getHere(document.getElementById("btnHere"))}}o.parentElement.appendChild(r);if(!global.map){r.style.display="block";var j=document.createElement("script");j.setAttribute("type","text/javascript");j.src="http://api.map.baidu.com/api?v=2.0&ak=1f136de2af40b05d64c7335cb8d10433&callback=apiLoad";document.head.appendChild(j)}else{if(/block/i.test(r.style.display)){switchLoc(o)}else{r.style.display="block";setTimeout(switchLoc,100)}}};var switchLoc=function(f){if(!f||!/input/i.test(f.tagName)){f=document.getElementById("mapBox").parentElement.getElementsByTagName("input")[0]}var e=JSON.parse(f.getAttribute("val"));e=new BMap.Point(e.lng,e.lat);map.clearOverlays();var d=new BMap.Marker(e);map.addOverlay(d);map.panTo(e)};var apiLoad=function(){document.getElementById("btnHere").innerHTML="定位中...";var b=new BMap.Geolocation();b.getCurrentPosition(function(d){document.getElementById("btnHere").innerHTML="定位";if(this.getStatus()==BMAP_STATUS_SUCCESS){if(!global.map){global.map=new BMap.Map("mapPnl")}map.centerAndZoom(d.point,18);map.addEventListener("click",mapClick);var a=new BMap.Marker(d.point);map.addOverlay(a);getMapCoord(d.point)}else{alert("failed"+this.getStatus())}},{enableHighAccuracy:true})};var mapClick=function(f){var d=f.point;map.clearOverlays();var e=new BMap.Marker(d);map.addOverlay(e);getMapCoord(d)};var getMapCoord=function(e){var d=document.getElementById("mapBox").parentElement.getElementsByTagName("input")[0];if(d){d.setAttribute("val",'{"lat":'+e.lat+', "lng":'+e.lng+"}");var f=new BMap.Geocoder();f.getLocation(e,function(b){var a=b.addressComponents;d.value=a.province+", "+a.city+", "+a.district+", "+a.street+", "+a.streetNumber})}};var getHere=function(c){c.innerHTML="定位中...";var d=new BMap.Geolocation();d.getCurrentPosition(function(a){document.getElementById("btnHere").innerHTML="定位";if(this.getStatus()==BMAP_STATUS_SUCCESS){if(!global.map){return}map.panTo(a.point);map.clearOverlays();var b=new BMap.Marker(a.point);map.addOverlay(b);getMapCoord(a.point)}else{alert("failed"+this.getStatus())}},{enableHighAccuracy:true})};var cancelCoord=function(c){c.parentElement.parentElement.style.display="";var d=c.parentElement.parentElement.parentElement.getElementsByTagName("input")[0];d.value="";d.removeAttribute("val")};